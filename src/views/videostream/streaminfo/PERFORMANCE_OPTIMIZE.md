# 视频流页面性能优化记录

## 优化时间

2024-06-20

## 优化内容

### 1. 分页优化

- 表格已实现分页，确保每次只渲染当前页数据，避免一次性渲染全部数据。
- 分页切换时仅更新表格数据，不做全量刷新。

### 2. 懒加载优化

- 所有弹窗/抽屉（ElDrawer、ElDialog）使用 `v-if` 控制渲染，只在需要时渲染，减少初始渲染压力。
- 图片标签增加 `loading="lazy"`，实现图片懒加载。
- 组织树、算法标签等大数据结构，建议在弹窗打开时再初始化数据。

### 3. 主题切换优化

- 只切换 CSS 变量，不做全局刷新。
- 避免 watch 主题变量时触发不必要的逻辑。
- 对于大表格、弹窗等，切换主题时不重新拉取数据、不重建 DOM。

### 4. 其他建议

- 如有大数据结构，弹窗打开时再初始化。
- 检查 watch/响应式依赖，避免主题切换时触发不必要的副作用。

### 5. 算法标签列优化

- 表格"算法标签"列只显示前三个标签，超出部分用 ElTooltip 悬浮显示全部标签内容，提升表格可读性和美观性。

## 2024-06-26 标定检测区域弹窗优化

- 弹窗图片区域支持滚动和缩放，提升大图适配性。
- 多边形编辑采用canvas绘制，性能高、交互流畅。
- 操作栏仅在编辑模式下显示，查看模式下自动隐藏，减少无关操作。
- 所有编辑操作均为本地mock，避免频繁刷新和重渲染。

---

> 本文档用于记录本页面性能优化的关键点，便于后续维护和查阅。
